<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Create Profile</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css">
</head>

<body>
  <header class="navbar">
    <div class="navbar-inner">
      <div class="brand">
        <span class="brand-badge" aria-hidden="true"></span>
        <a href="index.html" class="nav-link" style="padding:0;">SmartEats</a>
      </div>
      <nav>
        <button class="menu-toggle" aria-label="Toggle menu" id="menuBtn">☰</button>
        <ul id="menu">
          <li id="homeBtn"><a class="nav-link" href="index.html">Home</a></li>
          <li id="dashboardBtn"><a class="nav-link" href="dashboard.html">Dashboard</a></li>
          <li id="profileBtn"><a class="nav-link" href="profileCard.html">Profiles</a></li>
          <li id="loginBtn"><a class="nav-link" href="login.html">Login</a></li>
          <li id="registerBtn"><a class="nav-link" href="register.html">Register</a></li>
          <li id="logoutBtn"><a class="nav-link" href="#" onclick="logout()">Logout</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="card" style="max-width:560px; margin: 2rem auto;">
      <h2 style="margin-top:0;">Create Profile</h2>

      <!-- PROFILE FORM -->
      <form id="profileForm" autocomplete="on" novalidate>
        <!-- Unit System -->
        <div class="row">
          <div>
            <label for="unitSystem">Unit System</label>
            <select id="unitSystem" name="unitSystem" required>
              <option value="metric" selected>Metric (kg, cm)</option>
              <option value="imperial">Imperial (lb, in)</option>
            </select>
            <small class="help">Default is metric. Switch if you use lb/in.</small>
          </div>
        </div>

        <!-- Age -->
        <div class="row">
          <div>
            <label for="age">Age</label>
            <input type="number" id="age" name="age" min="12" max="120" required placeholder="e.g., 28" />
            <small class="help">12–120</small>
          </div>
        </div>

        <!-- Weight & Height -->
        <div class="row">
          <div>
            <label for="weight">Weight</label>
            <input type="number" id="weight" name="weight" min="20" max="500" step="0.1" required placeholder="e.g., 62.5" />
          </div>
          <div>
            <label for="height">Height</label>
            <input type="number" id="height" name="height" min="80" max="250" step="0.1" required placeholder="e.g., 170" />
          </div>
        </div>

        <!-- Goal -->
        <div class="row">
          <div>
            <label for="goal">Goal</label>
            <select id="goal" name="goal" required>
              <option value="lose_weight">Lose weight</option>
              <option value="maintain" selected>Maintain</option>
              <option value="gain_muscle">Gain muscle</option>
            </select>
          </div>
        </div>

        <!-- Dietary Preferences -->
        <fieldset class="row" style="border:0; padding:0;">
          <legend style="font-weight:600;">Dietary Preferences</legend>
          <div class="checkbox-grid">
            <label><input type="checkbox" name="dietaryPreferences" value="vegetarian" id="diet-vegetarian"> Vegetarian</label>
            <label><input type="checkbox" name="dietaryPreferences" value="vegan" id="diet-vegan"> Vegan</label>
            <label><input type="checkbox" name="dietaryPreferences" value="gluten_free" id="diet-gluten_free"> Gluten-free</label>
            <label><input type="checkbox" name="dietaryPreferences" value="dairy_free" id="diet-dairy_free"> Dairy-free</label>
            <label><input type="checkbox" name="dietaryPreferences" value="nut_free" id="diet-nut_free"> Nut-free</label>
            <label><input type="checkbox" name="dietaryPreferences" value="halal" id="diet-halal"> Halal</label>
            <label><input type="checkbox" name="dietaryPreferences" value="kosher" id="diet-kosher"> Kosher</label>
          </div>
        </fieldset>

        <div class="form-actions">
          <button class="button accent" type="submit">Save Profile</button>
        </div>
      </form>
      <!-- /PROFILE FORM -->
    </div>
  </main>

  <footer class="footer">
    <p>© <span id="year"></span> SmartEats</p>
  </footer>

  <!-- Scripts (kept) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
  <script src="main.js"></script>

  <!-- Optional: tiny helper to hint units in placeholders (no backend changes needed) -->
  <script>
    (function () {
      const unit = document.getElementById('unitSystem');
      const w = document.getElementById('weight');
      const h = document.getElementById('height');

      function updatePlaceholders() {
        if (unit.value === 'imperial') {
          w.placeholder = 'e.g., 137 (lb)';
          h.placeholder = 'e.g., 67 (in)';
        } else {
          w.placeholder = 'e.g., 62.5 (kg)';
          h.placeholder = 'e.g., 170 (cm)';
        }
      }
      unit.addEventListener('change', updatePlaceholders);
      updatePlaceholders();
    })();
  </script>
</body>

</html>
